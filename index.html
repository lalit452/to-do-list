<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task List with Time Allotment</title>
    <style>
        .not-allotted {
            background-color: pink;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
        }

        li {
            list-style: none;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            background-color: #f0f0f0;
        }

        .delete-btn {
            margin-left: 10px;
            background-color: red;
            color: white;
            border: none;
            padding: 5px;
            cursor: pointer;
            border-radius: 3px;
        }

        .edit-btn {
            margin-left: 10px;
            background-color: green;
            color: white;
            border: none;
            padding: 5px;
            cursor: pointer;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <form id="task-form">
        <input type="text" id="task-name" placeholder="Task Name" required>
        <input type="time" id="task-start-time" required>
        <input type="time" id="task-end-time" required>
        <button type="submit">Add Task</button>
    </form>
    <ul id="task-list"></ul>

    <script>
        document.addEventListener('DOMContentLoaded', loadTasks);

        document.getElementById('task-form').addEventListener('submit', addTask);

        function addTask(e) {
            e.preventDefault();

            const taskName = document.getElementById('task-name').value;
            const startTime = document.getElementById('task-start-time').value;
            const endTime = document.getElementById('task-end-time').value;

            const task = { name: taskName, startTime: startTime, endTime: endTime };

            let tasks = getTasks();
            tasks.push(task);

            tasks.sort((a, b) => a.startTime.localeCompare(b.startTime));

            localStorage.setItem('tasks', JSON.stringify(tasks));

            renderTasks();

            document.getElementById('task-form').reset();
        }

        function getTasks() {
            return localStorage.getItem('tasks') ? JSON.parse(localStorage.getItem('tasks')) : [];
        }

        function loadTasks() {
            renderTasks();
        }

        function renderTasks() {
            const tasks = getTasks();
            const taskList = document.getElementById('task-list');
            taskList.innerHTML = '';

            let lastEndTime = "00:00";

            tasks.forEach(task => {
                if (lastEndTime < task.startTime) {
                    renderNotAllottedTimeSlot(taskList, lastEndTime, task.startTime);
                }
                const li = document.createElement('li');
                li.innerHTML = `
                    <span>${task.name} (${formatTime(task.startTime)} - ${formatTime(task.endTime)})</span>
                    <button class="edit-btn" onclick="editTask('${task.startTime}')">Edit</button>
                    <button class="delete-btn" onclick="deleteTask('${task.startTime}')">Delete</button>
                `;
                taskList.appendChild(li);
                lastEndTime = task.endTime;
            });

            if (lastEndTime < "23:59") {
                renderNotAllottedTimeSlot(taskList, lastEndTime, "23:59");
            }
        }

        function renderNotAllottedTimeSlot(taskList, startTime, endTime) {
            const duration = calculateDuration(startTime, endTime);
            const li = document.createElement('li');
            li.className = 'not-allotted';
            li.innerHTML = `
                <span>Not Allotted (${formatTime(startTime)} - ${formatTime(endTime)}) - ${duration}</span>
            `;
            taskList.appendChild(li);
        }

        function formatTime(time) {
            let [hours, minutes] = time.split(':');
            hours = parseInt(hours);

            let period = 'AM';
            if (hours >= 12) {
                period = 'PM';
                hours = hours > 12 ? hours - 12 : hours;
            } else if (hours === 0) {
                hours = 12;
            }

            return `${hours}:${minutes} ${period}`;
        }

        function calculateDuration(startTime, endTime) {
            const start = convertToMinutes(startTime);
            const end = convertToMinutes(endTime);

            const diff = end - start;
            const hours = Math.floor(diff / 60);
            const minutes = diff % 60;

            return `${hours}h ${minutes}m`;
        }

        function convertToMinutes(time) {
            let [hours, minutes] = time.split(':');
            return parseInt(hours) * 60 + parseInt(minutes);
        }

        function deleteTask(startTime) {
            let tasks = getTasks();
            tasks = tasks.filter(task => task.startTime !== startTime);
            localStorage.setItem('tasks', JSON.stringify(tasks));
            renderTasks();
        }

        function editTask(startTime) {
            let tasks = getTasks();
            const taskToEdit = tasks.find(task => task.startTime === startTime);

            if (taskToEdit) {
                document.getElementById('task-name').value = taskToEdit.name;
                document.getElementById('task-start-time').value = taskToEdit.startTime;
                document.getElementById('task-end-time').value = taskToEdit.endTime;

                // Remove the task being edited
                tasks = tasks.filter(task => task.startTime !== startTime);
                localStorage.setItem('tasks', JSON.stringify(tasks));

                renderTasks();
            }
        }
    </script>
</body>
</html>



<!-- unallocated time with edit button -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task List with Time Allotment</title>
    <style>
        .not-allotted {
            background-color: pink;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
        }

        li {
            list-style: none;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            background-color: #f0f0f0;
        }

        .delete-btn {
            margin-left: 10px;
            background-color: red;
            color: white;
            border: none;
            padding: 5px;
            cursor: pointer;
            border-radius: 3px;
        }

        .edit-btn {
            margin-left: 10px;
            background-color: green;
            color: white;
            border: none;
            padding: 5px;
            cursor: pointer;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <form id="task-form">
        <input type="text" id="task-name" placeholder="Task Name" required>
        <input type="time" id="task-start-time" required>
        <input type="time" id="task-end-time" required>
        <button type="submit">Add Task</button>
    </form>
    <ul id="task-list"></ul>

    <script>
        document.addEventListener('DOMContentLoaded', loadTasks);

        document.getElementById('task-form').addEventListener('submit', addTask);

        function addTask(e) {
            e.preventDefault();

            const taskName = document.getElementById('task-name').value;
            const startTime = document.getElementById('task-start-time').value;
            const endTime = document.getElementById('task-end-time').value;

            const task = { name: taskName, startTime: startTime, endTime: endTime };

            let tasks = getTasks();
            tasks.push(task);

            tasks.sort((a, b) => a.startTime.localeCompare(b.startTime));

            localStorage.setItem('tasks', JSON.stringify(tasks));

            renderTasks();

            document.getElementById('task-form').reset();
        }

        function getTasks() {
            return localStorage.getItem('tasks') ? JSON.parse(localStorage.getItem('tasks')) : [];
        }

        function loadTasks() {
            renderTasks();
        }

        function renderTasks() {
            const tasks = getTasks();
            const taskList = document.getElementById('task-list');
            taskList.innerHTML = '';

            let lastEndTime = "00:00";

            tasks.forEach(task => {
                if (lastEndTime < task.startTime) {
                    renderNotAllottedTimeSlot(taskList, lastEndTime, task.startTime);
                }
                const li = document.createElement('li');
                li.innerHTML = `
                    <span>${task.name} (${formatTime(task.startTime)} - ${formatTime(task.endTime)})</span>
                    <button class="edit-btn" onclick="editTask('${task.startTime}')">Edit</button>
                    <button class="delete-btn" onclick="deleteTask('${task.startTime}')">Delete</button>
                `;
                taskList.appendChild(li);
                lastEndTime = task.endTime;
            });

            if (lastEndTime < "23:59") {
                renderNotAllottedTimeSlot(taskList, lastEndTime, "23:59");
            }
        }

        function renderNotAllottedTimeSlot(taskList, startTime, endTime) {
            const li = document.createElement('li');
            li.className = 'not-allotted';
            li.innerHTML = `
                <span>Not Allotted (${formatTime(startTime)} - ${formatTime(endTime)})</span>
            `;
            taskList.appendChild(li);
        }

        function formatTime(time) {
            let [hours, minutes] = time.split(':');
            hours = parseInt(hours);

            let period = 'AM';
            if (hours >= 12) {
                period = 'PM';
                hours = hours > 12 ? hours - 12 : hours;
            } else if (hours === 0) {
                hours = 12;
            }

            return `${hours}:${minutes} ${period}`;
        }

        function deleteTask(startTime) {
            let tasks = getTasks();
            tasks = tasks.filter(task => task.startTime !== startTime);
            localStorage.setItem('tasks', JSON.stringify(tasks));
            renderTasks();
        }

        function editTask(startTime) {
            let tasks = getTasks();
            const taskToEdit = tasks.find(task => task.startTime === startTime);

            if (taskToEdit) {
                document.getElementById('task-name').value = taskToEdit.name;
                document.getElementById('task-start-time').value = taskToEdit.startTime;
                document.getElementById('task-end-time').value = taskToEdit.endTime;

                // Remove the task being edited
                tasks = tasks.filter(task => task.startTime !== startTime);
                localStorage.setItem('tasks', JSON.stringify(tasks));

                renderTasks();
            }
        }
    </script>
</body>
</html> -->


<!-- time in ascending with no allocation time also -->
<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task List with Time Allotment</title>
    <style>
        /* Your other styles */
        
        .not-allotted {
            background-color: pink;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
        }

        li {
            list-style: none;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            background-color: #f0f0f0;
        }

        .delete-btn {
            margin-left: 10px;
            background-color: red;
            color: white;
            border: none;
            padding: 5px;
            cursor: pointer;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <form id="task-form">
        <input type="text" id="task-name" placeholder="Task Name" required>
        <input type="time" id="task-start-time" required>
        <input type="time" id="task-end-time" required>
        <button type="submit">Add Task</button>
    </form>
    <ul id="task-list"></ul>

    <script>
        document.addEventListener('DOMContentLoaded', loadTasks);

        document.getElementById('task-form').addEventListener('submit', addTask);

        function addTask(e) {
            e.preventDefault();

            const taskName = document.getElementById('task-name').value;
            const startTime = document.getElementById('task-start-time').value;
            const endTime = document.getElementById('task-end-time').value;

            const task = { name: taskName, startTime: startTime, endTime: endTime };

            let tasks = getTasks();
            tasks.push(task);

            tasks.sort((a, b) => a.startTime.localeCompare(b.startTime));

            localStorage.setItem('tasks', JSON.stringify(tasks));

            renderTasks();

            document.getElementById('task-form').reset();
        }

        function getTasks() {
            return localStorage.getItem('tasks') ? JSON.parse(localStorage.getItem('tasks')) : [];
        }

        function loadTasks() {
            renderTasks();
        }

        function renderTasks() {
            const tasks = getTasks();
            const taskList = document.getElementById('task-list');
            taskList.innerHTML = '';

            let lastEndTime = "00:00";

            tasks.forEach(task => {
                if (lastEndTime < task.startTime) {
                    renderNotAllottedTimeSlot(taskList, lastEndTime, task.startTime);
                }
                const li = document.createElement('li');
                li.innerHTML = `
                    <span>${task.name} (${formatTime(task.startTime)} - ${formatTime(task.endTime)})</span>
                    <button class="delete-btn" onclick="deleteTask('${task.startTime}')">Delete</button>
                `;
                taskList.appendChild(li);
                lastEndTime = task.endTime;
            });

            if (lastEndTime < "23:59") {
                renderNotAllottedTimeSlot(taskList, lastEndTime, "23:59");
            }
        }

        function renderNotAllottedTimeSlot(taskList, startTime, endTime) {
            const li = document.createElement('li');
            li.className = 'not-allotted'; // Apply the CSS class
            li.innerHTML = `
                <span>Not Allotted (${formatTime(startTime)} - ${formatTime(endTime)})</span>
            `;
            taskList.appendChild(li);
        }

        function formatTime(time) {
            let [hours, minutes] = time.split(':');
            hours = parseInt(hours);

            let period = 'AM';
            if (hours >= 12) {
                period = 'PM';
                hours = hours > 12 ? hours - 12 : hours;
            } else if (hours === 0) {
                hours = 12;
            }

            return `${hours}:${minutes} ${period}`;
        }

        function deleteTask(startTime) {
            let tasks = getTasks();
            tasks = tasks.filter(task => task.startTime !== startTime);
            localStorage.setItem('tasks', JSON.stringify(tasks));
            renderTasks();
        }
    </script>
</body>
</html> -->


// basic time with acending order
<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Allotment To-Do List</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Time Allotment To-Do List</h1>
        <form id="task-form">
            <input type="text" id="task-name" placeholder="Task Name" required>
            <input type="time" id="task-start-time" required>
            <input type="time" id="task-end-time" required>
            <button type="submit">Add Task</button>
        </form>
        <ul id="task-list"></ul>
    </div>
    <script src="script.js"></script>
</body>
</html> -->
